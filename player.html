<!DOCTYPE html>
{% autoescape true %}
<html lang="en">
	<head>
		<title>Player</title>
	
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<link rel="icon" type="image/png" href="/images/favicon.ico" />

		<meta name="description" content="" />
		<meta name="author" content="Yago" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0" />
		
		<!-- SCRIPTS -->
		<!--  I do not load scripts externally for player, they are very few and the lag on loading do not affect to gameplay -->
		
		<script type="text/javascript" src='/_ah/channel/jsapi'></script>
		
		<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
		<script type="text/javascript" src='/js/libs/greensock/TweenMax.min.js'></script>
		
		<script type="text/javascript" src="js/ext/core.js"></script>
		<script type="text/javascript" src="js/player-min.js"></script>
		
		<!-- STYLESHEETS -->
		<link rel="stylesheet" href="css/fonts.css" type="text/css" charset="utf-8"/>
		<link rel="stylesheet" href="css/styles.css" type="text/css" charset="utf-8"/>

	</head>

	<body class="player {% if user1 == me %} red {% elif user2 == me %} green {% elif user3 == me %} blue {% elif user4 == me %} yellow {% endif %}">
		<div id="player_wrapper">
			<h1>
				<!-- check what user is and if it is already logged -->
				{% if user_disabled %} Sorry, you CANNOT LOG TWO TIMES WITH THE SAME USER
				{% elif user1 	== me %} WELCOME RED PLAYER
				{% elif user2 	== me %} WELCOME GREEN PLAYER
				{% elif user3 	== me %} WELCOME BLUE PLAYER
				{% elif user4 	== me %} WELCOME YELLOW PLAYER
				{% endif %}
			</h1>
	
			<div id="playerButtons">
				<a id="btnUp" class="btnArrow"><div class="arrow"></div>UP</a>
				<a id="btnDown" class="btnArrow"><div class="arrow"></div>DOWN</a>
				<a id="btnLeft" class="btnArrow"><div class="arrow"></div>LEFT</a>
				<a id="btnRight" class="btnArrow"><div class="arrow"></div>RIGHT</a>
				<a id="btnOK" class="btnCenter"><div class="arrow"></div>OK</a>
				<a id="btnAccurate" class="btnAccurate">Accurate</a>
			</div>
		</div>
	
	<script type="text/javascript">
	
		// set connections constants
		connections.game_key 	= '{{ game_key }}';
		connections.me			= '{{ me }}';
		
		$( function(){
			// start the player 
			player.start();
			
			// connections configuration
			connections.token = '{{ token }}';
			
			// wait a bit before initialize connections
			setTimeout( connections.initialize, 100 );
		});
	</script>
	</body>
</html>
{% endautoescape %}
